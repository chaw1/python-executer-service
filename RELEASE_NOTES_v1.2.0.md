# Release Notes - v1.2.0

**å‘å¸ƒæ—¥æœŸ**: 2025-10-31

## ğŸ‰ æ–°åŠŸèƒ½

### æ•°æ®é›†ä¼ é€’åŠŸèƒ½

æ–°å¢é€šè¿‡ API ä¼ é€’æ•°æ®æ–‡ä»¶å†…å®¹çš„èƒ½åŠ›ï¼Œæ— éœ€ä¾èµ–æ–‡ä»¶ç³»ç»Ÿå³å¯ä½¿ç”¨ `pd.read_csv()` ç­‰æ–‡ä»¶è¯»å–å‡½æ•°ã€‚

#### ä¸»è¦ç‰¹æ€§

1. **é€šè¿‡ API ä¼ é€’æ–‡ä»¶å†…å®¹**
   - æ–°å¢ `datasets` å‚æ•°åˆ° `/execute` æ¥å£
   - æ”¯æŒä¼ é€’å¤šä¸ªæ•°æ®æ–‡ä»¶
   - æ ¼å¼ï¼š`{"æ–‡ä»¶å": "æ–‡ä»¶å†…å®¹"}`

2. **è‡ªåŠ¨å‡½æ•°è¦†ç›–**
   - è‡ªåŠ¨è¦†ç›– `pd.read_csv()` å’Œ `pd.read_json()`
   - ä¼˜å…ˆä»å†…å­˜ä¸­çš„æ•°æ®é›†è¯»å–
   - æ”¯æŒ `{{dataset_path}}` å ä½ç¬¦

3. **æ™ºèƒ½é¢„å¤„ç†**
   - CSV/JSON æ–‡ä»¶è‡ªåŠ¨é¢„å¤„ç†ä¸º DataFrame
   - å†…å­˜ç¼“å­˜ï¼Œæé«˜æ€§èƒ½
   - å¤šæ¬¡è¯»å–è¿”å›å‰¯æœ¬ï¼Œé¿å…æ•°æ®æ±¡æŸ“

4. **æ–‡ä»¶æ ¼å¼æ”¯æŒ**
   - âœ… CSV æ–‡ä»¶
   - âœ… JSON æ–‡ä»¶
   - ğŸ”œ æ›´å¤šæ ¼å¼ï¼ˆæœªæ¥ç‰ˆæœ¬ï¼‰

#### ä½¿ç”¨ç¤ºä¾‹

**API è¯·æ±‚**ï¼š
```json
{
  "code": "import pandas as pd\ndf = pd.read_csv('data.csv')\nprint(df.head())",
  "datasets": {
    "data.csv": "name,age,score\nAlice,25,95\nBob,30,87"
  }
}
```

**ä»£ç ä¸­ä½¿ç”¨**ï¼š
```python
import pandas as pd
from sklearn.preprocessing import StandardScaler

# ç›´æ¥ä½¿ç”¨æ–‡ä»¶å
df = pd.read_csv('data.csv')

# æˆ–ä½¿ç”¨å ä½ç¬¦ï¼ˆå…¼å®¹æ—§ä»£ç ï¼‰
df = pd.read_csv('{{dataset_path}}/data.csv')

# æ­£å¸¸è¿›è¡Œæ•°æ®å¤„ç†
scaler = StandardScaler()
df_scaled = scaler.fit_transform(df.select_dtypes(include=['number']))
```

#### è§£å†³çš„é—®é¢˜

ç”¨æˆ·æŠ¥å‘Šçš„é—®é¢˜ï¼š
1. âŒ `pd.read_csv('{{dataset_path}}/data.csv')` - æ–‡ä»¶ä¸å­˜åœ¨
2. âŒ `open('file.txt', 'r')` - ç¦æ­¢çš„æ“ä½œ

ç°åœ¨å¯ä»¥ï¼š
1. âœ… é€šè¿‡ `datasets` å‚æ•°ä¼ é€’æ–‡ä»¶å†…å®¹
2. âœ… ä»£ç ä¸­æ­£å¸¸ä½¿ç”¨ `pd.read_csv('data.csv')`
3. âœ… æ”¯æŒ `{{dataset_path}}` å ä½ç¬¦ï¼ˆè‡ªåŠ¨ç§»é™¤ï¼‰

---

## ğŸ”§ æŠ€æœ¯æ”¹è¿›

### æ–‡ä»¶ä¿®æ”¹

#### 1. `app/models.py`
- æ–°å¢ `datasets` å­—æ®µåˆ° `ExecuteRequest`
- ç±»å‹: `Optional[Dict[str, str]]`
- æè¿°: æ•°æ®é›†å†…å®¹ï¼Œkeyä¸ºæ–‡ä»¶åï¼Œvalueä¸ºæ–‡ä»¶å†…å®¹

#### 2. `app/executor.py`
- æ–°å¢ `_prepare_datasets()` æ–¹æ³•
  - é¢„å¤„ç†æ•°æ®é›†ä¸º DataFrame
  - åˆ›å»ºè‡ªå®šä¹‰ read_csv/read_json å‡½æ•°
  - æ³¨å…¥æ•°æ®åˆ°æ‰§è¡Œç¯å¢ƒ
- ä¿®æ”¹ `execute()` æ–¹æ³•
  - æ–°å¢ `datasets` å‚æ•°
  - è°ƒç”¨ `_prepare_datasets()` æ³¨å…¥æ•°æ®

#### 3. `app/main.py`
- æ›´æ–° `/execute` ç«¯ç‚¹
  - ä¼ é€’ `request.datasets` åˆ°æ‰§è¡Œå™¨
  - è®°å½•æ•°æ®é›†æ•°é‡
- æ›´æ–°ç‰ˆæœ¬å·: `1.1.0` â†’ `1.2.0`

### æ–°å¢æ–‡ä»¶

1. **DATASETS_USAGE.md**
   - å®Œæ•´çš„æ•°æ®é›†åŠŸèƒ½ä½¿ç”¨æŒ‡å—
   - å¤šä¸ªå®ç”¨ç¤ºä¾‹
   - å¸¸è§é—®é¢˜è§£ç­”
   - Python å®¢æˆ·ç«¯ç¤ºä¾‹

2. **test_datasets.py**
   - æ•°æ®é›†åŠŸèƒ½æµ‹è¯•è„šæœ¬
   - æµ‹è¯•åŸºæœ¬è¯»å–å’Œ sklearn é¢„å¤„ç†
   - 100% é€šè¿‡ç‡

3. **RELEASE_NOTES_v1.2.0.md**
   - æœ¬æ–‡æ¡£

---

## ğŸ“Š æµ‹è¯•ç»“æœ

### æµ‹è¯•è¦†ç›–

**æµ‹è¯• 1: åŸºæœ¬æ•°æ®è¯»å–ï¼ˆå¸¦ {{dataset_path}} å ä½ç¬¦ï¼‰**
- âœ… çŠ¶æ€: success
- âœ… æ‰§è¡Œæ—¶é—´: 16ms
- âœ… æ•°æ®æ­£ç¡®è¯»å–å’Œå¤„ç†

**æµ‹è¯• 2: Sklearn æ•°æ®é¢„å¤„ç†**
- âœ… çŠ¶æ€: success
- âœ… æ‰§è¡Œæ—¶é—´: 22ms
- âœ… Z-Score æ ‡å‡†åŒ–æ­£å¸¸
- âœ… Min-Max å½’ä¸€åŒ–æ­£å¸¸

**é€šè¿‡ç‡**: 2/2 (100%)

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **æ•°æ®é¢„å¤„ç†**: < 5msï¼ˆå–å†³äºæ•°æ®å¤§å°ï¼‰
- **å‡½æ•°è¦†ç›–å¼€é”€**: < 1msï¼ˆå¯å¿½ç•¥ï¼‰
- **å†…å­˜å ç”¨**: æ•°æ®é›†å¤§å° + DataFrame å¯¹è±¡ï¼ˆçº¦ 2xï¼‰
- **æ‰§è¡Œæ€§èƒ½**: æ— æ˜¾è‘—å½±å“

---

## ğŸ”’ å®‰å…¨è¯´æ˜

1. **å†…å­˜éš”ç¦»**
   - æ¯æ¬¡æ‰§è¡Œç‹¬ç«‹ç¯å¢ƒ
   - æ•°æ®ä¸ä¼šåœ¨è¯·æ±‚é—´å…±äº«
   - æ‰§è¡Œå®Œæˆåè‡ªåŠ¨æ¸…ç†

2. **æ•°æ®å¤§å°é™åˆ¶**
   - å»ºè®®: å•ä¸ªæ•°æ®é›† < 10MB
   - å¯é€šè¿‡é…ç½®è°ƒæ•´
   - å¤§æ–‡ä»¶å»ºè®®æ•°æ®é‡‡æ ·

3. **æ²™ç®±ä¿æŠ¤**
   - æ•°æ®é›†ä»åœ¨æ²™ç®±å†…å¤„ç†
   - æ— æ–‡ä»¶ç³»ç»Ÿè®¿é—®
   - å®‰å…¨ç­–ç•¥æœªæ”¾å®½

---

## ğŸ“š æ–‡æ¡£æ›´æ–°

1. **README.md**
   - æ–°å¢æ•°æ®é›†ä¼ é€’ç‰¹æ€§è¯´æ˜
   - æ–°å¢ API ä½¿ç”¨ç¤ºä¾‹
   - é“¾æ¥åˆ°è¯¦ç»†æ–‡æ¡£

2. **DATASETS_USAGE.md**
   - å®Œæ•´ä½¿ç”¨æŒ‡å—
   - å¤šä¸ªå®ç”¨ç¤ºä¾‹
   - Python å®¢æˆ·ç«¯ä»£ç 
   - å¸¸è§é—®é¢˜è§£ç­”

---

## ğŸš€ å‡çº§æŒ‡å—

### å¯¹ç°æœ‰ç”¨æˆ·

**æ— ç ´åæ€§æ›´æ”¹**ï¼š
- æ‰€æœ‰ç°æœ‰ API ä¿æŒå…¼å®¹
- `datasets` å‚æ•°ä¸ºå¯é€‰
- ä¸ä¼ é€’ `datasets` æ—¶è¡Œä¸ºä¸å˜

**æ¨èæ“ä½œ**ï¼š
1. æ›´æ–°å®¢æˆ·ç«¯ä»£ç ï¼Œä½¿ç”¨ `datasets` å‚æ•°ä¼ é€’æ•°æ®
2. ç§»é™¤ä»£ç ä¸­çš„ `{{dataset_path}}` å ä½ç¬¦ï¼ˆæˆ–ä¿ç•™ï¼Œä¼šè‡ªåŠ¨å¤„ç†ï¼‰
3. å‚è€ƒ DATASETS_USAGE.md äº†è§£æœ€ä½³å®è·µ

### å¯¹æ–°ç”¨æˆ·

ç›´æ¥å‚è€ƒï¼š
- [DATASETS_USAGE.md](DATASETS_USAGE.md) - æ•°æ®é›†ä½¿ç”¨æŒ‡å—
- [README.md](README.md) - æœåŠ¡æ€»ä½“ä»‹ç»
- [API æ–‡æ¡£](http://localhost:8000/docs) - å®Œæ•´ API æ–‡æ¡£

---

## ğŸ› å·²çŸ¥é™åˆ¶

1. **ä¸æ”¯æŒ open() å‡½æ•°**
   - åŸå› : å®‰å…¨æ²™ç®±é™åˆ¶
   - æ›¿ä»£æ–¹æ¡ˆ: ä½¿ç”¨ `__datasets_content__['filename']` ç›´æ¥è®¿é—®å†…å®¹

2. **æ–‡ä»¶æ ¼å¼**
   - å½“å‰æ”¯æŒ: CSV, JSON
   - ä¸æ”¯æŒ: Excel, Parquetï¼ˆå¯å…ˆè½¬æ¢ä¸º CSVï¼‰

3. **å¤§æ–‡ä»¶å¤„ç†**
   - å»ºè®®å•ä¸ªæ•°æ®é›† < 10MB
   - å¤§æ–‡ä»¶å¯èƒ½å¯¼è‡´è¶…æ—¶æˆ–å†…å­˜æº¢å‡º

---

## ğŸ”® æœªæ¥è®¡åˆ’

å‚è§ [UPGRADE_TODO.md](UPGRADE_TODO.md):

**v1.3.0 å€™é€‰åŠŸèƒ½**ï¼š
1. âœ¨ ä¼šè¯ç®¡ç† - æ”¯æŒå¤šæ­¥éª¤æ•°æ®å¤„ç†
2. âœ¨ æ•°æ®å¯¼å‡º - å¤„ç†åçš„æ•°æ®å¯¼å‡º
3. âœ¨ Excel æ”¯æŒ - pd.read_excel()
4. âœ¨ æ–‡ä»¶å¤§å°é™åˆ¶é…ç½®

---

## ğŸ’¬ åé¦ˆ

å¦‚é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼š
1. æŸ¥é˜… [DATASETS_USAGE.md](DATASETS_USAGE.md) å¸¸è§é—®é¢˜
2. æŸ¥çœ‹æµ‹è¯•ç¤ºä¾‹ [test_datasets.py](test_datasets.py)
3. å‚è€ƒå®Œæ•´æ–‡æ¡£ [README.md](README.md)

---

## ğŸ“‹ å®Œæ•´å˜æ›´æ—¥å¿—

### Added
- æ–°å¢ `datasets` å‚æ•°åˆ° `/execute` API
- æ–°å¢ `_prepare_datasets()` æ–¹æ³•
- æ–°å¢ DATASETS_USAGE.md æ–‡æ¡£
- æ–°å¢ test_datasets.py æµ‹è¯•è„šæœ¬
- æ–°å¢è‡ªå®šä¹‰ pd.read_csv/read_json è¦†ç›–

### Changed
- æ›´æ–° ExecuteRequest æ¨¡å‹ï¼Œæ–°å¢ datasets å­—æ®µ
- æ›´æ–° executor.execute() æ–¹æ³•ç­¾å
- æ›´æ–° README.mdï¼Œæ–°å¢æ•°æ®é›†åŠŸèƒ½è¯´æ˜
- æ›´æ–°ç‰ˆæœ¬å·: 1.1.0 â†’ 1.2.0

### Fixed
- ä¿®å¤ç”¨æˆ·æ— æ³•è¯»å– CSV æ–‡ä»¶çš„é—®é¢˜
- ä¿®å¤ {{dataset_path}} å ä½ç¬¦æ— æ³•è§£æçš„é—®é¢˜

### Security
- æ•°æ®é›†ä»åœ¨æ²™ç®±å†…å¤„ç†
- æ— æ–°çš„å®‰å…¨é£é™©å¼•å…¥
- å†…å­˜éš”ç¦»ä¿æŒä¸å˜

---

**ç‰ˆæœ¬**: 1.2.0
**å‘å¸ƒæ—¥æœŸ**: 2025-10-31
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª
**Git åˆ†æ”¯**: `claude/fix-code-recognition-011CUeruPh1DbVmPpyh2Bcbb`
